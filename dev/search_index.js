var documenterSearchIndex = {"docs":
[{"location":"tutorials/IrIn3.html#Example-system:-IrIn","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"","category":"section"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"In this example, we're going to demonstrate a DFT-raMO run for an intermetallic binary compound in the iridium-indium system, using data from a VASP 4.6 calculation. This example will follow the scheme outlined in this paper.","category":"page"},{"location":"tutorials/IrIn3.html#Setup","page":"Example system: IrInâ‚ƒ","title":"Setup","text":"","category":"section"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Assuming that you have Julia and DFTraMO.jl installed, download the IrInâ‚ƒ VASP 4.6 data, a link to which will be provided in the future. This includes the following files:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"KPOINTS\nOUTCAR\nPOSCAR\nPOTCAR\nWAVECAR\nstep1.yaml - the DFT-raMO input file.\nqdftramo and qdftramo-kestrel - submission scripts for internal use, can be adapted.\nstep2.tar\nstep3.tar\nstep4.tar - tarballs for later steps in the tutorial.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"warning: Large files\nThe tarball is a large file due to the WAVECAR (over 400 MB).","category":"page"},{"location":"tutorials/IrIn3.html#.-Ir-d_{x2y2}-orbitals","page":"Example system: IrInâ‚ƒ","title":"1. Ir d_x^2+y^2 orbitals","text":"","category":"section"},{"location":"tutorials/IrIn3.html#Constructing-the-YAML-input","page":"Example system: IrInâ‚ƒ","title":"Constructing the YAML input","text":"","category":"section"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"You'll find that step1.yaml is a blank template. The Usage section of the manual contains information on each of the keys and values in the file.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Since we're starting from scratch, the checkpoint key should be blank. Leave auto_psphere as true, as this will automatically rerun poor reconstructions (less than 15% of the maximum P_sphere value).","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"For the first run, let's reconstruct the Ir d_x^2+y^2 orbitals, so set type to dx2y2 and sites to Ir. site_file and radius can be blank, as these are not used for AO type runs. For rsphere, as a rule of thumb, you can use the distance from the reconstruction site to the farthest atom in the first coordination sphere, which is 2.65 Ã… in this case. This does not have to be precise, and overshooting is generally better than undershooting.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"The name field can be set at your convenience (here we use 1_Ir_dx2y2) and becomes the name of the directory where the outputs are written.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Your step1.yaml file should look as below:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"checkpoint:\nauto_psphere: true\nruns:\nÂ  - name: 1_Ir_dx2y2\nÂ  Â  type: dx2y2\nÂ  Â  site_file: \nÂ  Â  sites: Ir\nÂ  Â  radius:\nÂ  Â  rsphere: 2.65","category":"page"},{"location":"tutorials/IrIn3.html#Running-DFT-raMO-for-the-first-time","page":"Example system: IrInâ‚ƒ","title":"Running DFT-raMO for the first time","text":"","category":"section"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"In the directory you extracted the tarball, run julia, use the DFTraMO.jl package, and start the run:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"julia> using DFTraMO\n\njulia> dftramo_run(\"step1.yaml\")","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"You should see the beginnings of the DFT-raMO analysis printed to the terminal.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"No checkpoint file specified. Run will start from beginning conditions.\nAuto-Psphere: true\nNumber of runs: 1\nRun 1:\n   name: 1_Ir_dx2y2\n   type: dx2y2\n   sites: Ir\n   rsphere: 2.65 â„«\nRun: 1_Ir_dx2y2\n1, Psphere: 0.905 at site [2.417, 2.417, 0.000]","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"note: Optional UnicodePlots implementation\nYou can use the UnicodePlots package to visualize P_sphere data. If you don't load the package, you will see the following message.[ Info: UnicodePlots not loaded: consider loading it for Psphere logging.This has no impact on your DFT-raMO analysis and can be ignored.","category":"page"},{"location":"tutorials/IrIn3.html#Examining-the-output","page":"Example system: IrInâ‚ƒ","title":"Examining the output","text":"","category":"section"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"After dftramo_run() is finished, you should see lines of P_sphere values printed to the terminal.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"1, Psphere: 0.905 at site [2.417, 2.417, 0.000]","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"1 - the raMO number in the sequence.\n0.905 - P_sphere value.\n[2.417, 2.417, 0.000] - the site (in Cartesian coordinates) that P_sphere is centered on.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"The value of P_sphere indicates the degree of localization of that raMO function. Though higher values indicate more localization, recall that our setting of rsphere was an arbitrary and estimated value. What is more valuable is the consistency of the P_sphere values. Here, the consistent values indicates that the Ir d_x^2+y^2 orbitals are fully occupied.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"See Theory for more details on P_sphere.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"If you check your working directory now, you should see a directory with the name you specified in step1.yaml. Within this directory are four types of files:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"*.chkpt - checkpoint at that step in the raMO sequence\n*.raMO - reciprocal space coefficients for the raMO\n*.xsf - real space electron density grid of the raMO in the supercell\n*_psphere_*.txt - P_sphere information","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"The .xsf files allow us to visually inspect the raMO functions with software such as VESTA.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"note: File naming convention\n.chkpt, .raMO, and .xsf files are formatted <name>_<raMO number>_<electrons left in supercell>.For example, 1_Ir_dx2y2_10_556.xsf represents the 10th raMO in the sequence, with 556 electrons remaining and unaccounted for.P_sphere files have the rsphere value embedded in their filename.","category":"page"},{"location":"tutorials/IrIn3.html#.-Ir-Ir-isolobal-bonds-with-sp-hybrids","page":"Example system: IrInâ‚ƒ","title":"2. Ir-Ir isolobal bonds with  sp hybrids","text":"","category":"section"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Before we reconstruct sp-based hybrids, we want to reconstruct all of the Ir d and s orbitals. Skip ahead in the analysis by untarring the step2.tar file, which contains all of the necessary reconstructions.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"tar -xf step2.tar","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"<br><center><p><img src=\"assets/Ir-Ir_300.png\" width=\"150\" alt=\"Ir-Ir isolobal bonding\"></p>\n<p><i>Ir-Ir isolobal bonding</i></p></center><br>","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"This next section of the raMO sequence will target Ir-Ir isolobal bonding. We want to create multi-center bonding functions between pairs of Ir atoms, with expected contribution from bridging In atoms. For this, we will use the sp type run, which searches for atoms within a specified radius from a central site and creates a target where s and p orbitals are oriented towards the central site.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"For this next run, create a new YAML input (step2.yaml) with the following lines:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"checkpoint: 6_Ir_s/6_Ir_s_192_192.chkpt\nauto_psphere: true\nruns:\n  - name: 7_Ir-Ir\n    type: sp\n    site_file: Ir-Ir.txt\n    sites: all\n    radius: 1.6\n    rsphere: 3.5","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Our previous analysis ended at the 192nd raMO in the sequence, and we have 192 electrons remaining, (explaining the occurrence of 192 twice in the name of the checkpoint file). The radius parameter is the search radius for automatically including atoms in the target. ","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"The Ir-Ir.txt site file should contain the midpoints of the Ir-Ir bonds in Cartesian coordinates. This can be done by using your preferred molecular modeling software (we've done this by converting the POSCAR to a CIF and adding the dummy atoms into Diamond 3). However, if you'd like to skip the manual creation, the contents of Ir-Ir.txt are given below:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"X\t  6.99330\t  6.99330\t 10.78620\nX\t  0.00000\t  6.99330\t 10.78620\nX\t  6.99330\t  0.00000\t 10.78620\nX\t  0.00000\t  0.00000\t 10.78620\nX\t  6.99330\t  6.99330\t  3.59540\nX\t  6.99330\t  0.00000\t  3.59540\nX\t  0.00000\t  0.00000\t  3.59540\nX\t 10.48995\t 10.48995\t  7.19080\nX\t  3.49665\t 10.48995\t  7.19080\nX\t 10.48995\t  3.49665\t  7.19080\nX\t  0.00000\t  6.99330\t  3.59540\nX\t  3.49665\t  3.49665\t  7.19080\nX\t 10.48995\t 10.48995\t  0.00000\nX\t  3.49665\t 10.48995\t  0.00000\nX\t 10.48995\t  3.49665\t  0.00000\nX\t  3.49665\t  3.49665\t  0.00000","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"The symbol X can be changed arbitrarily.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Now that you have these files, you can just run DFT-raMO again:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"julia> dftramo_run(\"step2.yaml\")","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"As before, have a look at the P_sphere values and XSF files to see the reconstructions and validate the electronic assignment.","category":"page"},{"location":"tutorials/IrIn3.html#.-Ir-p-orbitals-with-LCAO-reconstructions","page":"Example system: IrInâ‚ƒ","title":"3. Ir p orbitals with LCAO reconstructions","text":"","category":"section"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"When working with orbitals with nonzero orbital angular momentum (p, d, f orbitals) it may be desirable to construct an orbital with an orientation or shape that is not aligned with the coordinate system. To solve this issue, we can use linear combinations of atomic orbitals (LCAOs). LCAOs may also be used to create molecular or multi-center bonding functions, i.e. Ï€-bonding.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"To skip to the next step, untar step3.tar in your working directory. You should find two new input files, lcao1.yaml and lcao2.yaml. The contents of lcao1.yaml are given below:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"target:\n  - px: -1\n    py: 1\nlcao:\n  - [1]\n  - [2]\n  - [17]\n  - [18]\n  - [33]\n  - [34]\n  - [49]\n  - [50]\n  - [65]\n  - [66]\n  - [81]\n  - [82]\n  - [97]\n  - [98]\n  - [113]\n  - [114]","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"As before, the description of the LCAO sites file is given in the Usage section.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Note that lcao2.yaml file contains reconstructions with different orientations (p_x is positive).","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"The step3.yaml file contains the information for the LCAO reconstruction, and references both lcao1.yaml and lcao2.yaml for each run. Its contents are below:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"checkpoint: 8_Ir_pz/8_Ir_pz_240_96.chkpt\nauto_psphere: true\nruns:\n  - name: 9_Ir_p_pi1\n    type: lcao\n    site_file: lcao1.yaml\n    sites: all\n    radius:\n    rsphere: 2.65\n  - name: 10_Ir_p_pi2\n    type: lcao\n    site_file: lcao2.yaml\n    sites: all\n    radius:\n    rsphere: 2.65","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Run step3.yaml and inspect the P_sphere values and XSF files.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"julia> dftramo_run(\"step3.yaml\")","category":"page"},{"location":"tutorials/IrIn3.html#.-Remainder-analysis-of-In-cage-states-and-In-p-orbitals","page":"Example system: IrInâ‚ƒ","title":"4. Remainder analysis of In cage states and In p orbitals","text":"","category":"section"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"As you complete your DFT-raMO runs, you'll find that the P_sphere values of the reconstructed orbitals tends to decrease. To visualize this, untar step4.tar and look at the log for run 11, found at 11_In-In/11_In-In_psphere_4.73.txt:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"273     0.6474487830205945       at site [10.490, 3.497, 3.595]\n274     0.6429286864719969       at site [0.000, 6.993, 7.191]\n275     0.6116188776692522       at site [3.497, 10.490, 3.595]\n276     0.6382205090625862       at site [10.490, 10.490, 3.595]\n277     0.6504732377051952       at site [6.993, 6.993, 7.191]\n278     0.5981010110158822       at site [3.497, 3.497, 10.786]\n279     0.5871384506957702       at site [10.490, 3.497, 10.786]\n280     0.5162750706706059       at site [3.497, 10.490, 10.786]\n281     0.33634765527327326      at site [10.490, 10.490, 10.786]\n282     0.6434855799801233       at site [0.000, 0.000, 0.000]\n283     0.6433852489950562       at site [6.993, 0.000, 0.000]\n284     0.5527474698233648       at site [0.000, 6.993, 0.000]\n285     0.49587592534638286      at site [6.993, 6.993, 0.000]\n286     0.40417825671730373      at site [0.000, 0.000, 7.191]\n287     0.16723350141820606      at site [6.993, 0.000, 7.191]\n288     0.1572312564858335       at site [3.497, 3.497, 3.595]","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"We find that Psphere drops precipitously at some points in this run (raMOs 281, 286-288). In order to complete the analysis, we need to open the XSF files to inspect the character of the raMO functions more closely. For reference and throughness, it is recommended to inspect the raMO functions directly preceding these (raMOs 280, 285).","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"<br><center><p><img src=\"../assets/IrIn3_remainder_analysis.png\" alt=\"From left to right: isosurfaces\nof raMO 280, 281, 287, 288\"></p>\n<p><i>From left to right: isosurfaces of raMO 280, 281, 287, 288</i></p></center><br>","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Upon inspection of these raMOs, we come to the following conclusions:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"raMOs 280, 281, and 286 show delocalization but expected character, so electrons are allocated to these runs.\nraMOs 287 and 288 show delocalization and unexpected p-like character on the In atoms. Electrons are not assigned to these raMOs and the functions are returned to the basis set. However, the p-like character informs our next target, as raMO functions are orthogonal to each other.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"For the final run, we now target the In p orbitals. Create the last input file, step4.yaml:","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"checkpoint: 11_In-In/11_In-In_286_4.chkpt\nauto_psphere: true\nruns:\n  - name: 12.1_In_px\n    type: px\n    site_file: \n    sites: In 1\n    radius:\n    rsphere: 3.2\n  - name: 12.2_In_py\n    type: py\n    site_file: \n    sites: In 1\n    radius:\n    rsphere: 3.2\n  - name: 12.3_In_pz\n    type: pz\n    site_file: \n    sites: In 1\n    radius:\n    rsphere: 3.2","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"Run DFT-raMO.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"julia> dftramo_run(\"step4.yaml\")","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"The P_sphere values are still low, but this is expected. Isosurfaces in the XSFs show delocalized p-like functions throughout the In atoms in the cell.","category":"page"},{"location":"tutorials/IrIn3.html","page":"Example system: IrInâ‚ƒ","title":"Example system: IrInâ‚ƒ","text":"note: Congratulations!\nðŸŒŸ You performed a DFT-raMO analysis!","category":"page"},{"location":"usage.html#Input-files","page":"Usage","title":"Input files","text":"","category":"section"},{"location":"usage.html#Basic-input-file","page":"Usage","title":"Basic input file","text":"","category":"section"},{"location":"usage.html","page":"Usage","title":"Usage","text":"Currently, DFT-raMO supports VASP inputs, and the required VASP outputs are the OUTCAR, POSCAR, KPOINTS, and WAVECAR files. Future versions will support abinit (likely to be tested on versions 8.10.3 and 9.10.1), and this will require a WFK output.","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"In most cases, you will want to use an optimized geometry and a gamma-centered k-point mesh which corresponds to the size of the supercell you want to reconstruct the orbitals in.","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"Regardless of the software used to generate the wavefunction, DFT-raMO uses a YAML file as input which contains information about the desired target reconstruction.","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"Here is an example YAML file (available at examples/ScAl3.yaml and test/input/ScAl3.yaml):","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"checkpoint:\nauto_psphere: true\nruns:\n  - name: 1_Sc-Sc\n    type: sp\n    site_file: Sc-Sc_reordered.xyz\n    sites: all\n    radius: 2.2\n    rsphere: 2.2\n  - name: 2_Sc_dxy\n    type: dxy\n    site_file: \n    sites: Sc\n    radius: \n    rsphere: 2.2\n  - name: 3_Sc_dxz\n    type: dxz\n    site_file: \n    sites: Sc\n    radius: \n    rsphere: 2.2\n  - name: 4_Sc_dyz\n    type: dyz\n    site_file: \n    sites: Sc\n    radius: \n    rsphere: 2.2\n  - name: 5_Al_oct\n    type: sp\n    site_file: Al-Al_reordered.xyz\n    sites: all\n    radius: 2.1\n    rsphere: 4.11","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"Here are some of the important components of this example file:","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"The checkpoint key can be left blank when starting a new calculation, but a path to a file can","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"be given to resume the calculation. Checkpoint files are automatically written.","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"The auto_psphere key automatically reruns calculations where the Psphere values are less than 15% of the maxium when set to true.\nThe runs key is the bread and butter of the sequence.\nThe name key can be used to name the output directory and the output files it creates. By default, the name is run_<number> where <number> is the number in the order.\nThe type key determines the target orbital shapes to reconstruct. By default, it accepts atomic orbital designations (s, px, py, pz, dx2y2 or dx2-y2, dz2, dxy,  dxz, and dyz), or hybrid designations ( sp, which includes p-orbitals with any directionality, or user-defined linear combinations of atomic orbitals with lcao) . These designations are not case-sensitive.\nsite_file is only used for sp cage and lcao runs. The input is an XYZ file (Cartesian coordinates in angstroms).\nsites can accept multiple arguments. By default, this is all, which runs the whole list of atoms. However, this can be limited if desired: the atom names from the POSCAR can be included, and can be postpended with lists of individual sites or ranges of sites.\nThe radius is only relevant for sp hybrids, and it is the length (in angstroms) used to search for atoms that contribute to that hybrid.\nrsphere is the radius for the Psphere metric.","category":"page"},{"location":"usage.html#LCAO-sites-file","page":"Usage","title":"LCAO sites file","text":"","category":"section"},{"location":"usage.html","page":"Usage","title":"Usage","text":"Here is an example YAML file for user-defined linear combinations of atomic orbitals (LCAO).","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"target:\n  - px: -1\n    py: 1\nlcao:\n  - [1]\n  - [2]\n  - [17]\n  - [18]\n  - [33]\n  - [34]\n  - [49]\n  - [50]\n  - [65]\n  - [66]\n  - [81]\n  - [82]\n  - [97]\n  - [98]\n  - [113]\n  - [114]","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"Here are some of the important components of this example file:","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"The target: key indicates that a list of LCAOs will follow. Each atomic site is indicated with a -, and relative contributions of each atomic orbital follow each atomic orbital key.\nRelative contributions of each atomic orbital will be normalized such that the total contribution equals 1.\nAny atomic orbital keys that are notdefined are ignored.\nThe lcao key indicates the list of targets in the run.\nEach list item must be a vector of integers indicating the number corresponding to the atom in the supercell. These atomic positions can usually be found by checking the xsfs of a previously run.\nThe number of integers in the list must match the number of atomic sites in target.","category":"page"},{"location":"usage.html#Running-DFT-raMO","page":"Usage","title":"Running DFT-raMO","text":"","category":"section"},{"location":"usage.html","page":"Usage","title":"Usage","text":"After configuring the basic input file, ensure that you are in your working directory, which includes the OUTCAR, POSCAR, KPOINTS, and WAVECAR files. Open the Julia REPL.","category":"page"},{"location":"usage.html","page":"Usage","title":"Usage","text":"using DFTraMO\ndftramo_run(\"input.yaml\")","category":"page"},{"location":"IrIn3.html#Example-system:-IrIn3","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"","category":"section"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"In this example, we're going to demonstrate a DFT-raMO run for an intermetallic binary compound in the iridium-indium system, using data from a VASP 4.6 calculation.","category":"page"},{"location":"IrIn3.html#Setup","page":"Example system: IrIn3","title":"Setup","text":"","category":"section"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"Assuming that you have Julia and DFTraMO.jl installed, download the IrIn3 VASP 4.6 data, a link to which will be provided in the future. This includes the following files:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"KPOINTS\nOUTCAR\nPOSCAR\nPOTCAR\nWAVECAR\nstep1.yaml - the DFT-raMO input file.\nqdftramo and qdftramo-kestrel - submission scripts for internal use, can be adapted.","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"!!! warn The tarball is a large file due to the WAVECAR (over 400 MB).","category":"page"},{"location":"IrIn3.html#Constructing-the-YAML-input","page":"Example system: IrIn3","title":"Constructing the YAML input","text":"","category":"section"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"You'll find that step1.yaml is a blank template. The [Usage] section of the manual contains information on each of the keys and values in the file.","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"Since we're starting from scratch, the checkpoint key should be blank. Leave auto_psphere as true, as this will automatically rerun poor reconstructions (less than 15% of the maximum P_sphere value).","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"For the first run, let's reconstruct the Ir d_x^2+y^2 orbitals, so set type to dx2y2 and sites to Ir. site_file and radius can be blank, as these are only used for AO type runs. As a rule of thumb, you can use the distance from the reconstruction site to the farthest atom in the first coordination sphere, which is 2.65 angstroms (this does not have to be precise, but overshooting is generally better than undershooting).","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"The name field can be set at your convenience (here we use 1_Ir_dx2y2) and becomes the name of the directory where the outputs are written.","category":"page"},{"location":"IrIn3.html#Running-DFT-raMO-for-the-first-time","page":"Example system: IrIn3","title":"Running DFT-raMO for the first time","text":"","category":"section"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"In the directory you extracted the tarball, run julia, use the DFTraMO.jl package, and start the run:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"julia> using DFTraMO\n\njulia> dftramo_run(\"step1.yaml\")","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"Optionally, you can use the UnicodePlots package to visualize the Psphere data. If you don't load the package","category":"page"},{"location":"IrIn3.html#Examining-the-output","page":"Example system: IrIn3","title":"Examining the output","text":"","category":"section"},{"location":"IrIn3.html#Reconstructing-sp-hybrids","page":"Example system: IrIn3","title":"Reconstructing sp hybrids","text":"","category":"section"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"In order to reconstruct sp hybrids, we want to reconstruct all of the Ir d and s orbitals. Instead of running all of the reconstructions yourself, to save time, the step2.tar file contains all of the necessary reconstructions.","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"For this next run, create a new YAML input with the following lines:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"checkpoint: 6_Ir_s/6_Ir_s_192_192.chkpt\nauto_psphere: true\nruns:\n  - name: 7_Ir-Ir\n    type: sp\n    site_file: Ir-Ir.txt\n    sites: all\n    radius: 1.6\n    rsphere: 3.5","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"Our previous analysis ended at the 192nd electron, and we have 192 electrons remaining, explaining the occurrence of 192 twice in the name of the checkpoint file. The radius parameter is the search radius for automatically including atoms in the target. ","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"The Ir-Ir.txt site file should contain the midpoints of the Ir-Ir bonds in Cartesian coordinates. This can be done by using your preferred molecular modeling software (we've done this by converting the POSCAR to a CIF and adding the dummy atoms into Diamond 3). However, if you'd like to skip the manual creation, the contents of Ir-Ir.txt are given below:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"X\t  6.99330\t  6.99330\t 10.78620\nX\t  0.00000\t  6.99330\t 10.78620\nX\t  6.99330\t  0.00000\t 10.78620\nX\t  0.00000\t  0.00000\t 10.78620\nX\t  6.99330\t  6.99330\t  3.59540\nX\t  6.99330\t  0.00000\t  3.59540\nX\t  0.00000\t  0.00000\t  3.59540\nX\t 10.48995\t 10.48995\t  7.19080\nX\t  3.49665\t 10.48995\t  7.19080\nX\t 10.48995\t  3.49665\t  7.19080\nX\t  0.00000\t  6.99330\t  3.59540\nX\t  3.49665\t  3.49665\t  7.19080\nX\t 10.48995\t 10.48995\t  0.00000\nX\t  3.49665\t 10.48995\t  0.00000\nX\t 10.48995\t  3.49665\t  0.00000\nX\t  3.49665\t  3.49665\t  0.00000","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"The symbol X can be changed arbitrarily, as long as it does not match the symbol of another atom already present.","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"Now that you have these files, you can just run DFT-raMO again:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"julia> dftramo_run(\"step2.yaml\")","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"As before, have a look at the XSF files to see the reconstructions.","category":"page"},{"location":"IrIn3.html#LCAO-reconstructions","page":"Example system: IrIn3","title":"LCAO reconstructions","text":"","category":"section"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"When working with orbitals with nonzero orbital angular momentum (p, d, f orbitals) it may be desirable to construct an orbital with an orientation or shape that is not aligned with the coordinate system. To solve this issue, we can use linear combinations of atomic orbitals (LCAOs).","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"To skip to the next step, untar step3.tar in your working directory. You should find two new input files, lcao1.yaml and lcao2.yaml. The contents of lcao1.yaml are given below:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"target:\n  - px: -1\n    py: 1\nlcao:\n  - [1]\n  - [2]\n  - [17]\n  - [18]\n  - [33]\n  - [34]\n  - [49]\n  - [50]\n  - [65]\n  - [66]\n  - [81]\n  - [82]\n  - [97]\n  - [98]\n  - [113]\n  - [114]","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"As before, the description of the LCAO sites file is given in the [Usage] section.","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"The lcao2.yaml file contains reconstructions with different orientations","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"The step3.yaml file contains the information for the LCAO reconstruction, and references both lcao1.yaml and lcao2.yaml for each run. Its contents are below:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"checkpoint: 8_Ir_pz/8_Ir_pz_240_96.chkpt\nauto_psphere: true\nruns:\n  - name: 9_Ir_p_pi1\n    type: lcao\n    site_file: lcao1.yaml\n    sites: all\n    radius:\n    rsphere: 2.65\n  - name: 10_Ir_p_pi2\n    type: lcao\n    site_file: lcao2.yaml\n    sites: all\n    radius:\n    rsphere: 2.65","category":"page"},{"location":"IrIn3.html#Remainder-analysis","page":"Example system: IrIn3","title":"Remainder analysis","text":"","category":"section"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"As you complete your DFT-raMO runs, you'll find that the Psphere values of the reconstructed orbitals tends to decrease. To visualize this, untar step4.tar and look at the log for run 11, found at 11_In-In/11_In-In_psphere_4.73.txt:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"273     0.6474487830205945       at site [10.490, 3.497, 3.595]\n274     0.6429286864719969       at site [0.000, 6.993, 7.191]\n275     0.6116188776692522       at site [3.497, 10.490, 3.595]\n276     0.6382205090625862       at site [10.490, 10.490, 3.595]\n277     0.6504732377051952       at site [6.993, 6.993, 7.191]\n278     0.5981010110158822       at site [3.497, 3.497, 10.786]\n279     0.5871384506957702       at site [10.490, 3.497, 10.786]\n280     0.5162750706706059       at site [3.497, 10.490, 10.786]\n281     0.33634765527327326      at site [10.490, 10.490, 10.786]\n282     0.6434855799801233       at site [0.000, 0.000, 0.000]\n283     0.6433852489950562       at site [6.993, 0.000, 0.000]\n284     0.5527474698233648       at site [0.000, 6.993, 0.000]\n285     0.49587592534638286      at site [6.993, 6.993, 0.000]\n286     0.40417825671730373      at site [0.000, 0.000, 7.191]\n287     0.16723350141820606      at site [6.993, 0.000, 7.191]\n288     0.1572312564858335       at site [3.497, 3.497, 3.595]","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"We find that Psphere drops precipitously at some points in this run. In order to complete the analysis, we want to remove the orbitals from our total reconstruction and  We recommend that you manually inspect the orbitals to observe their character. When we do this, we find that orbitals 287 and 288 do not have the desired character, and the last run should reconstruct from orbital 286.","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"For the final run, we can create the last input file, step4.yaml:","category":"page"},{"location":"IrIn3.html","page":"Example system: IrIn3","title":"Example system: IrIn3","text":"checkpoint: 11_In-In/11_In-In_286_4.chkpt\nauto_psphere: true\nruns:\n  - name: 12.1_In_px\n    type: px\n    site_file: \n    sites: In 1\n    radius:\n    rsphere: 3.2\n  - name: 12.2_In_py\n    type: py\n    site_file: \n    sites: In 1\n    radius:\n    rsphere: 3.2\n  - name: 12.3_In_pz\n    type: pz\n    site_file: \n    sites: In 1\n    radius:\n    rsphere: 3.2","category":"page"},{"location":"theory.html#Theory","page":"Theory","title":"Theory","text":"","category":"section"},{"location":"theory.html","page":"Theory","title":"Theory","text":"Coming soon...","category":"page"},{"location":"api/index.html#API","page":"API","title":"API","text":"","category":"section"},{"location":"api/index.html","page":"API","title":"API","text":"Coming soon...","category":"page"},{"location":"api/yaml.html#YAML-related-functions","page":"YAML-related functions","title":"YAML-related functions","text":"","category":"section"},{"location":"api/yaml.html","page":"YAML-related functions","title":"YAML-related functions","text":"Modules = [DFTraMO]\nPages = [\"yaml.jl\"]","category":"page"},{"location":"api/yaml.html#DFTraMO.dftramo_run","page":"YAML-related functions","title":"DFTraMO.dftramo_run","text":"dftramo_run(filename::AbstractString, software::AbstractString=\"vasp\")\n\nAutomatically runs DFTraMO from a configuration yaml file.\n\n\n\n\n\n","category":"function"},{"location":"api/yaml.html#DFTraMO.parse_energy-Tuple{AbstractString, AbstractString}","page":"YAML-related functions","title":"DFTraMO.parse_energy","text":"parse_energy(software::AbstractString, energy::AbstractString) -> n::Float64\n\nParse energy values of the input yaml files and returns energies in Ha.\n\n\n\n\n\n","category":"method"},{"location":"api/yaml.html#DFTraMO.parse_energy-Tuple{AbstractString, Real}","page":"YAML-related functions","title":"DFTraMO.parse_energy","text":"parse_energy(software::AbstractString, energy::Real) -> n::Float64\n\nParse energy values of the input yaml files and returns energies in Ha.\n\n\n\n\n\n","category":"method"},{"location":"api/yaml.html#DFTraMO.parse_runs-Tuple{Vector{Dict{Any, Any}}, Any}","page":"YAML-related functions","title":"DFTraMO.parse_runs","text":"parse_runs(runs::Vector{Dict{Any, Any}}) -> runlist::Vector{RunInfo}\n\nParse the run section of the input yaml file and returns Vector{RunInfo}.\n\n\n\n\n\n","category":"method"},{"location":"api/yaml.html#DFTraMO.parse_sites-Tuple{AbstractVector{<:AbstractString}}","page":"YAML-related functions","title":"DFTraMO.parse_sites","text":"parse_sites(sites::AbstractVector{<:AbstractString}) -> site_final::Vector{Int}\n\nParses a portion of the \"sites\" lines in the yaml file to return a Vector{Int} with valid indices for targets. e.g.,\n\njulia> parse_sites([\"1:3\", \"3\", \"18:2:20\"])\n5-element Vector{Int64}:\n  1\n  2\n  3\n 18\n 20\n\n\n\n\n\n","category":"method"},{"location":"api/yaml.html#DFTraMO.read_run_yaml","page":"YAML-related functions","title":"DFTraMO.read_run_yaml","text":"read_run_yaml(run_name::AbstractString)\n\nLoads options for the run specified by a file.\n\n\n\n\n\n","category":"function"},{"location":"index.html","page":"Home","title":"Home","text":"(Image: DFT-raMO.jl logo)","category":"page"},{"location":"index.html#DFT-raMO.jl","page":"Home","title":"DFT-raMO.jl","text":"","category":"section"},{"location":"index.html","page":"Home","title":"Home","text":"The DFT-raMO (reversed approximation Molecular Orbital) method is a Wannier-type analysis that can be used to reinterpret the results of an electronic structure calculation in terms of localized orbitals, similar to natural hybrid orbital (NHO) and natural bond orbital (NBO) analysis.","category":"page"},{"location":"index.html","page":"Home","title":"Home","text":"Unlike NBO, raMO follows user-guided targets, which can be centered not just on atoms, but on any user-selected site. The reconstructions are not dependent on the basis set used to perform the calculation, which makes this method ideal for solid-state structures.","category":"page"},{"location":"index.html","page":"Home","title":"Home","text":"The original DFT-raMO was written in MATLAB, but for the sake of performance, reproducibility, and better software architecture, we've rewritten all of the functionality in Julia. You can find the original MATLAB version in our repository.","category":"page"},{"location":"index.html#Publications","page":"Home","title":"Publications","text":"","category":"section"},{"location":"index.html","page":"Home","title":"Home","text":"Publications outlining the DFT- and HÃ¼ckel-raMO concepts","category":"page"},{"location":"index.html","page":"Home","title":"Home","text":"Yannello, V. J.; Lu, E.; Fredrickson, D. C. At the Limits of Isolobal Bonding: Ï€-Based Covalent Magnetism in Mn2Hg5. Inorg. Chem. 2020, 59 (17), 12304â€“12313. https://doi.org/10.1021/acs.inorgchem.0c01393.\nYannello, V. J.; Kilduff, B. J.; Fredrickson, D. C. Isolobal Analogies in Intermetallics: The Reversed Approximation MO Approach and Applications to CrGa4- and Ir3Ge7-Type Phases. Inorg. Chem. 2014, 53 (5), 2730â€“2741. https://doi.org/10.1021/ic4031624.","category":"page"},{"location":"index.html","page":"Home","title":"Home","text":"Publications in which raMO is used","category":"page"},{"location":"index.html","page":"Home","title":"Home","text":"Kraus, J. D.; Van Buskirk, J. S.; Fredrickson, D. C. The Zintl Concept Applied to Intergrowth Structures: Electron-Hole Matching, Stacking Preferences, and Chemical Pressures in Pd5InAs. Z. Anorg. Allg. Chem. 2023, 649, e202300125. https://doi.org/10.1002/zaac.202300125.\nLim, A.; Fredrickson, D. C. Entropic Control of Bonding, Guided by Chemical Pressure: Phase Transitions and 18-n+m Isomerism of IrIn3. Inorg. Chem. 2023. 62, 27, 10833-10846. https://doi.org/10.1021/acs.inorgchem.3c01496.\nLim, A; Hilleke, K. P.; Fredrickson, D. C. Emergent Transitions: Discord between Electronic and Chemical Pressure Effects in the REAl3 (RE = Sc, Y, Lanthanides) Series. Inorg. Chem. 2023, 62, 4405-4416. https://doi.org/10.1021/acs.inorgchem.2c03393.\nPark, S.-W.; Hosono, H.; Fredrickson, D. C. Cation Clustering in Intermetallics: The Modular Bonding Schemes of CaCu and Ca2Cu. Inorg. Chem. 2019, 58 (15), 10313â€“10322. https://doi.org/10.1021/acs.inorgchem.9b01486.\nVinokur, A. I.; Fredrickson, D. C. 18-Electron Resonance Structures in the BCC Transition Metals and Their CsCl-Type Derivatives. Inorg. Chem. 2017, 56 (5), 2834â€“2842. https://doi.org/10.1021/acs.inorgchem.6b02989.\nMiyazaki, K.; Yannello, V. J.; Fredrickson, D. C. Electron-Counting in Intermetallics Made Easy: The 18-n Rule and Isolobal Bonds across the Osâ€“Al System. Zeitschrift fÃ¼r Kristallographie - Crystalline Materials 2017, 232 (7â€“9), 487â€“496. https://doi.org/10.1515/zkri-2017-2044.\nEngelkemier, J.; Green, L. M.; McDougald, R. N.; McCandless, G. T.; Chan, J. Y.; Fredrickson, D. C. Putting ScTGa5 (T = Fe, Co, Ni) on the Map: How Electron Counts and Chemical Pressure Shape the Stability Range of the HoCoGa5 Type. Crystal Growth & Design 2016, 16 (9), 5349â€“5358. https://doi.org/10.1021/acs.cgd.6b00855.\nYannello, V. J.; Fredrickson, D. C. Generality of the 18-n Rule: Intermetallic Structural Chemistry Explained through Isolobal Analogies to Transition Metal Complexes. Inorg. Chem. 2015, 54 (23), 11385â€“11398. https://doi.org/10.1021/acs.inorgchem.5b02016.\nKilduff, B. J.; Yannello, V. J.; Fredrickson, D. C. Defusing Complexity in Intermetallics: How Covalently Shared Electron Pairs Stabilize the FCC Variant Mo2CuxGa6â€“x (x â‰ˆ 0.9). Inorg. Chem. 2015, 54 (16), 8103â€“8110. https://doi.org/10.1021/acs.inorgchem.5b01333. \nYannello, V. J.; Fredrickson, D. C. Orbital Origins of Helices and Magic Electron Counts in the Nowotny Chimney Ladders: The 18 â€“ n Rule and a Path to Incommensurability. Inorg. Chem. 2014, 53 (19), 10627â€“10631. https://doi.org/10.1021/ic501723n.\nHadler, A. B.; Yannello, V. J.; Bi, W.; Alp, E. E.; Fredrickson, D. C. Ï€-Conjugation in Gd13Fe10C13 and Its Oxycarbide: Unexpected Connections between Complex Carbides and Simple Organic Molecules. J. Am. Chem. Soc. 2014, 136 (34), 12073â€“12084. https://doi.org/10.1021/ja505868w.","category":"page"}]
}
